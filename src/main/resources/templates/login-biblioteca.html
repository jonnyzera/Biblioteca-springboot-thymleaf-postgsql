<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <!-- Essa tag é crucial para que o celular use 100% da largura -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login na Biblioteca</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        html {
            height: 100%;
        }

        body {
            /* Removido o 'container' daqui para que o Footer possa se estender 100% */
            min-height: 100vh;
            background: linear-gradient(to right, #f0f4f8, #e8f0fe);
            font-family: 'Poppins', sans-serif;
            display: flex;
            flex-direction: column;
        }

        .login-card {
            background-color: #ffffff;
            border-radius: 16px;
            box-shadow: 0 0 25px rgba(0, 0, 0, 0.05);
            padding: 40px;
            position: relative;
        }

        .illustration {
            max-width: 100%;
            border-radius: 16px;
        }

        .form-title {
            font-weight: 600;
            font-size: 1.6rem;
            color: #343a40;
        }

        .link-minimal {
            font-size: 0.9rem;
            text-decoration: none;
        }

        .carousel-inner img {
            max-height: 80px;
            margin: auto;
        }

        .patrocinadores-section {
            /* Garante que ocupe o espaço necessário abaixo do conteúdo principal */
            margin-top: 80px;
            padding: 40px 0;
            background-color: #f8f9fa;
            border-top: 1px solid #e0e0e0;
        }

        .patrocinadores-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #343a40;
            margin-bottom: 20px;
        }

        .fundadores h6 {
            font-weight: 600;
            font-size: 1rem;
        }

        /* Estilo base do rodapé */
        .app-footer {
            background-color: #198754;
            margin-top: auto;
            color: #fff;
            padding: 15px 0;
            font-size: 0.9rem;
            width: 100%;
        }

        .header-form {
            text-align: center;
            margin-bottom: 2rem;
        }

        .header-form h2 {
            font-size: 2rem;
            font-weight: 700;
            color: #198754;
        }

        .header-form .bi {
            font-size: 2.5rem;
            margin-right: 0.5rem;
        }

        .header-form p {
            font-size: 1rem;
            color: #6c757d;
        }

        .form-control::placeholder {
            color: #adb5bd;
        }

        /* Estilo para garantir que as imagens dos fundadores tenham tamanho fixo e uniforme */
        .fundador-img {
            width: 120px;
            height: 120px;
            object-fit: cover;
            /* Melhoria: Garante proporção 1:1, impedindo que as imagens fiquem achatadas no mobile. */
            aspect-ratio: 1/1;
            /* Centraliza a imagem no carrossel */
            display: block;
            margin: 0 auto;
        }

        /* Garante que o texto do carrossel mobile seja centralizado */
        .carousel-item>div {
            text-align: center;
        }
    </style>
</head>

<!-- Removido 'container' do body. O espaçamento é agora aplicado ao container interno. -->

<body class="mt-3 mt-md-5">

    <!-- Novo Container principal que envolve todo o conteúdo, exceto o footer -->
    <div class="container">
        <div class="row justify-content-center align-items-center">

            <!-- Formulário (PRINCIPAL): col-12 (100% no mobile) e col-md-6 (50% no desktop) -->
            <div class="col-12 col-md-6">
                <div class="login-card">
                    <div class="mb-4 text-center header-form">
                        <h2 class="form-title"><i class="bi bi-book-half"></i> Entrar Biblioteca</h2>
                        <p class="text-muted">Preencha suas informações pessoais</p>
                    </div>

                    <div th:if="${param.error}" class="alert alert-danger">
                        Login ou senha incorretos.
                    </div>

                    <div th:if="${param.role_error}" class="alert alert-danger">
                        Acesso negado. O tipo de usuário selecionado não corresponde ao seu cadastro.
                    </div>

                    <form th:action="@{/login}" method="post">
                        <div class="mb-3">
                            <label for="username" class="form-label">E-mail</label>
                            <input type="email" name="username" id="username" class="form-control"
                                placeholder="Digite seu e-mail" required>
                        </div>
                        <div class="mb-3">
                            <label for="password" class="form-label">Senha</label>
                            <input type="password" name="password" id="password" class="form-control"
                                placeholder="Digite sua senha" required>
                        </div>

                        <div class="mb-3">
                            <label for="tipo" class="form-label">Você é:</label>
                            <select name="tipo" id="tipo" class="form-select" required>
                                <option value="">-- Selecione --</option>
                                <option value="usuario">Usuário</option>
                                <option value="bibliotecario">Bibliotecário</option>
                            </select>
                        </div>

                        <div class="text-center mt-2">
                            <a href="/biblioteca/perfil/form" class="link-minimal text-primary">Não tem uma conta?
                                Cadastre-se</a>
                        </div>
                        <div class="d-grid mt-3">
                            <button type="submit" class="btn btn-success">Entrar</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Ilustração: d-none (OCULTA NO MOBILE/TELA PEQUENA) e d-md-block (Aparece no desktop) -->
            <div class="col-md-6 text-center d-none d-md-block">
                <img src="https://img.freepik.com/vetores-premium/ilustracao-de-conceito-de-biblioteca_701961-53.jpg"
                    alt="Ilustração Biblioteca" class="illustration">
            </div>
        </div>

        <!-- Seção Patrocinadores (Responsiva via Carousel e Grid) -->
        <div class="patrocinadores-section text-center">
            <div class="patrocinadores-title">Nossos Patrocinadores</div>
            <div id="patrocinadoresCarousel" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/44/Microsoft_logo.svg/512px-Microsoft_logo.svg.png"
                            alt="Microsoft">
                    </div>
                    <div class="carousel-item">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/512px-Amazon_logo.svg.png"
                            alt="Amazon">
                    </div>
                    <div class="carousel-item">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/51/Google.png/512px-Google.png"
                            alt="Google">
                    </div>
                </div>
            </div>
        </div>

        <!-- SEÇÃO FUNDADORES OTIMIZADA -->
        <div class="mt-5 mb-5 text-center fundadores">
            <h3 class="mb-4" style="font-weight: 600;">Fundadores da Biblioteca</h3>

            <!-- 1. GRID ORIGINAL: Visível SOMENTE em Desktop (MD e acima) - Layout de 5 colunas -->
            <div class="row justify-content-center gx-5 px-md-5 d-none d-md-flex">
                <div class="col-md-2 mb-4">
                    <img th:src="@{/imagens/joao_img.png}" alt="João Victor"
                        class="img-fluid rounded-circle mb-2 fundador-img">
                    <h6>João Victor</h6>
                    <p class="text-muted small">Engenheiro de Java e DevOps</p>
                </div>
                <div class="col-md-2 mb-4">
                    <img th:src="@{/imagens/guilherme_img.png}" alt="Guilherme Silveira"
                        class="img-fluid rounded-circle mb-2 fundador-img">
                    <h6>Guilherme Silveira</h6>
                    <p class="text-muted small">Cientista de Dados e Análise</p>
                </div>
                <div class="col-md-2 mb-4">
                    <img th:src="@{/imagens/leandro_img.png}" alt="Leandro Aquino"
                        class="img-fluid rounded-circle mb-2 fundador-img">
                    <h6>Leandro Aquino</h6>
                    <p class="text-muted small">Designer UX/UI e Front-end</p>
                </div>
                <div class="col-md-2 mb-4">
                    <img th:src="@{/imagens/porcel_img.png}" alt="Leonardo Porcel"
                        class="img-fluid rounded-circle mb-2 fundador-img">
                    <h6>Leonardo Porcel</h6>
                    <p class="text-muted small">Analista de Dados Python</p>
                </div>
                <div class="col-md-2 mb-4">
                    <img th:src="@{/imagens/matheus_img.png}" alt="Matheus Bruce"
                        class="img-fluid rounded-circle mb-2 fundador-img">
                    <h6>Matheus Bruce</h6>
                    <p class="text-muted small">Especialista em Segurança</p>
                </div>
            </div>

            <!-- 2. CARROSSEL MOBILE: Visível SOMENTE em Mobile (Menor que MD) - 1 perfil por slide -->
            <div id="fundadoresCarouselMobile" class="carousel slide d-md-none" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#fundadoresCarouselMobile" data-bs-slide-to="0" class="active"
                        aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#fundadoresCarouselMobile" data-bs-slide-to="1"
                        aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#fundadoresCarouselMobile" data-bs-slide-to="2"
                        aria-label="Slide 3"></button>
                    <button type="button" data-bs-target="#fundadoresCarouselMobile" data-bs-slide-to="3"
                        aria-label="Slide 4"></button>
                    <button type="button" data-bs-target="#fundadoresCarouselMobile" data-bs-slide-to="4"
                        aria-label="Slide 5"></button>
                </div>
                <div class="carousel-inner">
                    <!-- Item 1: João Victor -->
                    <div class="carousel-item active">
                        <div class="p-4">
                            <img th:src="@{/imagens/joao_img.png}" alt="João Victor"
                                class="img-fluid rounded-circle mb-2 fundador-img">
                            <h6>João Victor</h6>
                            <p class="text-muted small">Engenheiro de Java e DevOps</p>
                        </div>
                    </div>
                    <!-- Item 2: Guilherme Silveira -->
                    <div class="carousel-item">
                        <div class="p-4">
                            <img th:src="@{/imagens/guilherme_img.png}" alt="Guilherme Silveira"
                                class="img-fluid rounded-circle mb-2 fundador-img">
                            <h6>Guilherme Silveira</h6>
                            <p class="text-muted small">Cientista de Dados e Análise</p>
                        </div>
                    </div>
                    <!-- Item 3: Leandro Aquino -->
                    <div class="carousel-item">
                        <div class="p-4">
                            <img th:src="@{/imagens/leandro_img.png}" alt="Leandro Aquino"
                                class="img-fluid rounded-circle mb-2 fundador-img">
                            <h6>Leandro Aquino</h6>
                            <p class="text-muted small">Designer UX/UI e Front-end</p>
                        </div>
                    </div>
                    <!-- Item 4: Leonardo Porcel -->
                    <div class="carousel-item">
                        <div class="p-4">
                            <img th:src="@{/imagens/porcel_img.png}" alt="Leonardo Porcel"
                                class="img-fluid rounded-circle mb-2 fundador-img">
                            <h6>Leonardo Porcel</h6>
                            <p class="text-muted small">Analista de Dados Python</p>
                        </div>
                    </div>
                    <!-- Item 5: Matheus Bruce -->
                    <div class="carousel-item">
                        <div class="p-4">
                            <img th:src="@{/imagens/matheus_img.png}" alt="Matheus Bruce"
                                class="img-fluid rounded-circle mb-2 fundador-img">
                            <h6>Matheus Bruce</h6>
                            <p class="text-muted small">Especialista em Segurança</p>
                        </div>
                    </div>
                </div>
                <!-- Controles do Carrossel (Setas) -->
                <button class="carousel-control-prev" type="button" data-bs-target="#fundadoresCarouselMobile"
                    data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Anterior</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#fundadoresCarouselMobile"
                    data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Próximo</span>
                </button>
            </div>
        </div>

        <!-- Seção Pix -->
        <div class="mt-5 mb-5 text-center">
            <div
                style="background-color: #f1f3f5; border-radius: 20px; padding: 30px; max-width: 400px; margin: auto; box-shadow: 0 0 15px rgba(0,0,0,0.05);">
                <h5 class="mb-3" style="font-weight: 600;">💚 Apoie o Projeto via Pix</h5>
                <p class="text-muted small">Sua contribuição ajuda a manter e melhorar nossa biblioteca. Escaneie o
                    código:
                </p>
                <img th:src="@{/imagens/QrCodeGrupo_Biblioteca.png}" alt="QR Code Pix"
                    style="width: 160px; height: 160px; border-radius: 12px; border: 4px solid white;">
            </div>
        </div>
    </div>
    <!-- Fim do Container principal -->

    <!-- FOOTER RESPONSIVO (Ocupa 100% da largura, fora do Container) -->
    <footer class="app-footer">
        <!-- O conteúdo interno usa 'container' para centralizar e alinhar com o restante do site. -->
        <div
            class="container d-flex flex-column flex-md-row justify-content-center justify-content-md-between align-items-center">
            <p class="mb-2 mb-md-0 small text-center text-md-start">
                © 2025 Biblioteca Comunitária - Todos os direitos reservados
            </p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const togglePassword = document.getElementById('togglePassword');
            const password = document.getElementById('password');

            if (togglePassword && password) {
                togglePassword.addEventListener('click', function () {
                    const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
                    password.setAttribute('type', type);
                    this.querySelector('i').classList.toggle('bi-eye-fill');
                    this.querySelector('i').classList.toggle('bi-eye-slash-fill');
                });
            }
        });
    </script>
</body>

</html>